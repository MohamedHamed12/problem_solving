{"id":796150573,"lang":"python3","lang_name":"Python3","time":"1 month, 3 weeks","timestamp":1662799252,"status":10,"status_display":"Accepted","runtime":"531 ms","url":"/submissions/detail/796150573/","is_pending":"Not Pending","title":"Number of Ways to Wear Different Hats to Each Other","memory":"42.9 MB","code":"class Solution:\n    def numberWays(self, hats: List[List[int]]) -> int:\n        mod=7+10**9\n        n=len(hats)\n        dic=defaultdict(list)\n        for p,lsthat in enumerate(hats):\n            for hat in lsthat:\n                dic[hat].append(p)\n        dp={}\n        def rec(mask,h):\n            if mask+1==1<<n:return 1\n            if h>40:return 0\n            if (mask,h) in dp:return dp[(mask,h)]\n            cnt=rec(mask,h+1)\n            for p in dic[h] :\n                if (1<<p)&mask==0:cnt+=rec(mask|(1<<p),h+1)\n            dp[(mask,h)]=cnt%mod\n            return dp[(mask,h)]\n        return rec(0,1)\n        ","compare_result":"11111111111111111111111111111111111111111111111111111111111111111","title_slug":"number-of-ways-to-wear-different-hats-to-each-other","has_notes":false,"notes":"","topic_tags":[]}